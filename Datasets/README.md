# AWS CloudTrail Log - JSON README

## Overview

This JSON file contains records of events generated by AWS CloudTrail, a service that enables governance, compliance, and operational and risk auditing of your AWS account. Each event represents an API call or action that was made within your AWS environment. In this case, the file details events related to AWS Lambda services. These events are typically generated when a user or service makes a request to an AWS API.

## Structure of the JSON File

The JSON file consists of a list of event `Records`. Each record logs a single event with various attributes that provide details about the action, such as the user who performed the action, the AWS service that was called, and the source of the request.

### Key Fields

Below is an explanation of the primary fields within each `Record`:

- **eventVersion**: The version of the event format used (e.g., "1.08").
 
- **userIdentity**: Contains details about the identity of the user who initiated the request.
  - **type**: The type of identity, such as `IAMUser`, which represents an authenticated user from your AWS Identity and Access Management (IAM) service.
  - **principalId**: The unique identifier for the user or role.
  - **arn**: The Amazon Resource Name (ARN) that uniquely identifies the user or role.
  - **accountId**: The AWS account ID associated with the event.
  - **accessKeyId**: The access key used to authenticate the request.
  - **userName**: The user name of the IAM user.

- **eventTime**: The timestamp of the event, in UTC (e.g., "2023-04-23T10:45:02Z").

- **eventSource**: The AWS service that generated the event (e.g., "lambda.amazonaws.com").

- **eventName**: The specific API action that was called (e.g., "ListFunctions20150331").

- **awsRegion**: The AWS region where the event occurred (e.g., "us-east-1").

- **sourceIPAddress**: The IP address from which the request originated (e.g., "212.179.179.106").

- **userAgent**: Information about the software used to make the API call, including SDK version, operating system, and architecture (e.g., "aws-sdk-go-v2/1.17.6 os/macos").

- **requestParameters**: Contains parameters that were sent along with the API request.
  - **maxItems**: The maximum number of items to return in the response (e.g., 10000).

- **responseElements**: Information returned by the AWS API in response to the request. This can be `null` if the request didnâ€™t generate a response or if the response details are not logged.

- **requestID**: A unique identifier for the API request (e.g., "003011fb-368c-4c9c-be0a-06748de885d8").

- **eventID**: A unique identifier for the CloudTrail event (e.g., "1c5ce35b-9daf-4edb-9caf-48ba82d71bf1").

- **readOnly**: Indicates whether the request was a read-only operation (`true`) or if it made changes (`false`).

- **eventType**: The type of event (e.g., "AwsApiCall").

- **managementEvent**: A Boolean indicating whether the event was a management event, such as configuring resources (e.g., `true`).

- **recipientAccountId**: The AWS account ID that received the request.

- **eventCategory**: Specifies the type of the event, such as "Management" for management-related events.

- **tlsDetails**: Information about the TLS encryption used during the connection.
  - **tlsVersion**: The version of TLS used (e.g., "TLSv1.2").
  - **cipherSuite**: The encryption algorithm used (e.g., "ECDHE-RSA-AES128-GCM-SHA256").
  - **clientProvidedHostHeader**: The host header provided by the client making the request (e.g., "lambda.us-east-1.amazonaws.com").

## Usage

This JSON file can be used for:
- **Auditing**: Track and log AWS API calls made within your environment for compliance or operational auditing purposes.
- **Security Analysis**: Analyze API requests to detect any unauthorized or anomalous activity.
- **Monitoring**: Keep a detailed log of all AWS service actions to help with monitoring and troubleshooting any issues with your infrastructure.

## Notes
- **Sensitive Data**: Although access keys, user identities, and account IDs are included in this log, ensure that you handle this file securely to avoid exposure of sensitive data.
- **Time Format**: All event timestamps are in UTC, and they follow the ISO 8601 format.

## Example Record

```json
{
  "eventVersion": "1.08",
  "userIdentity": {
    "type": "IAMUser",
    "principalId": "AIDA3HQ7JY3C4OYVVNDYF",
    "arn": "arn:aws:iam::123456789:user/sec-check",
    "accountId": "123456789",
    "accessKeyId": "AKIA3HQ7JY3CRTRROFOD",
    "userName": "sec-check"
  },
  "eventTime": "2023-04-23T10:45:02Z",
  "eventSource": "lambda.amazonaws.com",
  "eventName": "ListFunctions20150331",
  "awsRegion": "us-east-1",
  "sourceIPAddress": "212.179.179.106",
  "userAgent": "aws-sdk-go-v2/1.17.6 os/macos lang/go/1.19.8 md/GOOS/darwin md/GOARCH/arm64 api/lambda/1.29.0",
  "requestParameters": {
    "maxItems": 10000
  },
  "responseElements": null,
  "requestID": "003011fb-368c-4c9c-be0a-06748de885d8",
  "eventID": "1c5ce35b-9daf-4edb-9caf-48ba82d71bf1",
  "readOnly": true,
  "eventType": "AwsApiCall",
  "managementEvent": true,
  "recipientAccountId": "123456789",
  "eventCategory": "Management",
  "tlsDetails": {
    "tlsVersion": "TLSv1.2",
    "cipherSuite": "ECDHE-RSA-AES128-GCM-SHA256",
    "clientProvidedHostHeader": "lambda.us-east-1.amazonaws.com"
  }
}
```

---
